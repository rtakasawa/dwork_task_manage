<h1><%= t("activerecord.view.task.tasks_list") %></h1>
<%= link_to t("activerecord.view.task.new_task"), new_task_path %>
<%= link_to t("activerecord.view.task.sort_deadline_desc"), tasks_path(sort_expired: "true" ) %>

<%= form_with(scope: :search, url: tasks_path, method: :get, local: true) do |s| %>
  <%= s.label(:task_name, t("activerecord.attributes.task.task_name")) %>
  <%= s.text_field :task_name %>
  <%= s.label(:status, t("activerecord.attributes.task.status")) %>
  <%= s.select :status, [ "",t("activerecord.view.task.not_start"),t("activerecord.view.task.doing"),t("activerecord.view.task.done")] %>
  <%= s.submit %>
<% end %>

<table>
  <thead>
  <tr>
    <th><%= t('activerecord.attributes.task.task_name') %></th>
    <th><%= t('activerecord.attributes.task.description') %></th>
    <th><%= t('activerecord.attributes.task.deadline') %></th>
    <th><%= t('activerecord.attributes.task.status') %></th>
  </tr>
  </thead>

  <tbody>
  <% @tasks.each do |task| %>
  <tr>
    <td><%= link_to task.task_name, task_path(task) %></td>
    <td><%= task.description %></td>
    <td><%= task.deadline %></td>
    <td><%= task.status %></td>
    <td><%= link_to t("activerecord.view.task.edit_task"), edit_task_path(task) %></td>
    <td><%= link_to t("activerecord.view.task.destroy_task"), task, method: :delete, data: { confirm: t( "activerecord.view.task.Are you sure you want to delete it?" )} %></td>
  </tr>
  <% end %>
  </tbody>
</table>