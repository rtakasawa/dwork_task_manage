<h1><%= t("activerecord.view.user.list") %></h1>

<div class="task_header_nav">
  <ul class="nav nav-pills">
    <li class="nav-item">
      <%= link_to t("activerecord.view.user.new"), new_admin_user_path, class: "nav-link active btn btn-primary" %>
    </li>
  </ul>
</div>

<table class="table table-striped">
  <thead>
  <tr>
    <th><%= t('activerecord.attributes.user.name') %></th>
    <th><%= t('activerecord.attributes.user.email') %></th>
    <th><%= t('activerecord.attributes.user.admin') %></th>
    <th><%= t('activerecord.view.task.count') %></th>
    <th><%= t('activerecord.attributes.user.created_at') %></th>
    <th><%= t('activerecord.attributes.user.updated_at') %></th>
  </tr>
  </thead>

  <tbody>
  <% @users.each do |user| %>
    <tr>
      <td><%= link_to user.name, admin_user_path(user) %></td>
      <td><%= user.email %></td>
      <td><%= user.admin %></td>
      <td><%= user.tasks.count %></td>
      <td><%= user.created_at %></td>
      <td><%= user.updated_at %></td>
      <td><%= link_to t("activerecord.view.user.edit"), edit_admin_user_path(user) %></td>
      <td><%= link_to t("activerecord.view.user.destroy"), admin_user_path(user), method: :delete,
                      data: { confirm: t( "activerecord.view.task.Are you sure you want to delete it?" )} %></td>
    </tr>
  <% end %>
  <%= paginate @users %>

  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/js/bootstrap.min.js" integrity="sha384-o+RDsa0aLu++PJvFqy8fFScvbHFLtbvScb8AjopnFD+iEQ7wo/CG0xlczd+2O/em" crossorigin="anonymous"></script>

  </tbody>
</table>